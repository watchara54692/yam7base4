<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>7-Digit Master: Horary & Identification Edition</title>
    <style>
        :root { 
            --primary: #1a2a3a; --gold: #c5a02e; --bg: #f4f7f6; 
            --sri: #e8f5e9; --kalakini: #ffebee; --personal: #e3f2fd;
        }
        body { font-family: 'Tahoma', sans-serif; background: var(--bg); margin: 0; padding: 10px; display: flex; flex-direction: column; align-items: center; }
        .container { background: white; border: 1px solid #ddd; border-radius: 12px; max-width: 700px; width: 100%; padding: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 15px; }
        input, button { padding: 12px; border-radius: 6px; border: 1px solid #ccc; font-size: 15px; }
        button { cursor: pointer; background: var(--primary); color: white; border: none; font-weight: bold; }
        .btn-now { background: var(--gold); }

        .thaksa-bar { display: flex; flex-wrap: wrap; gap: 5px; margin-bottom: 15px; justify-content: center; }
        .thaksa-item { font-size: 11px; padding: 4px 8px; border-radius: 20px; border: 1px solid #ddd; background: #fff; }
        .tag-sri { background: #4caf50; color: white; border: none; }
        .tag-kala { background: #d32f2f; color: white; border: none; }

        .result-table { width: 100%; border-collapse: collapse; table-layout: fixed; margin-bottom: 15px; }
        td { border: 1px solid #333; text-align: center; vertical-align: middle; padding: 8px 0; height: 65px; cursor: pointer; position: relative; }
        .house-label { font-size: 9px; color: #555; display: block; margin-bottom: 2px; }
        .digit-value { font-size: 24px; font-weight: bold; display: block; }
        .thaksa-indicator { position: absolute; top: 2px; right: 2px; font-size: 9px; font-weight: bold; }

        .is-sri { background: var(--sri) !important; }
        .is-kala { background: var(--kalakini) !important; color: #d32f2f; }
        .is-personal { border: 2px dashed #2196f3; background: var(--personal); }
        .is-good-base { background: #fff9c4; border: 2px solid var(--gold); }
        
        .row-base { border-top: 2px solid #333; background: #fafafa; }
        .base-label { font-size: 10px; font-weight: bold; color: #b71c1c; }
        .base-value { font-size: 24px; font-weight: bold; color: #b71c1c; }

        .details-panel { padding: 15px; background: #fff; border: 2px solid var(--primary); border-radius: 8px; font-size: 14px; min-height: 250px; line-height: 1.6; margin-bottom: 15px; }
        .details-title { font-weight: bold; color: var(--primary); border-bottom: 2px solid var(--gold); margin-bottom: 10px; padding-bottom: 5px; font-size: 16px; }
        .journey-box { background: #fffde7; padding: 12px; border-radius: 8px; border: 1px solid #ffe082; margin-top: 10px; color: #4e342e; }

        .tips-panel { width: 100%; background: #ffffff; border: 1px solid #ddd; border-radius: 12px; padding: 15px; box-sizing: border-box; margin-bottom: 15px; }
        .tips-header { font-weight: bold; color: #d32f2f; font-size: 17px; margin-bottom: 10px; display: flex; align-items: center; gap: 10px; }
        
        /* New Advanced Section Styling */
        .advanced-panel { width: 100%; background: #1a2a3a; color: #fff; border-radius: 12px; padding: 15px; box-sizing: border-box; margin-bottom: 15px; }
        .adv-header { font-weight: bold; color: var(--gold); font-size: 16px; border-bottom: 1px solid #3e4b59; padding-bottom: 8px; margin-bottom: 12px; }
        .adv-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; font-size: 13px; }
        .adv-label { color: #8fa3b6; font-weight: bold; display: block; }
        .adv-val { color: #fff; }

        .tips-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .tips-section { margin-bottom: 10px; }
        .tips-label { font-weight: bold; color: #1a2a3a; text-decoration: underline; display: block; margin-bottom: 3px; }
        .tips-content { color: #444; font-size: 13px; line-height: 1.5; }
        .good-tag { color: #2e7d32; font-weight: bold; background: #e8f5e9; padding: 2px 5px; border-radius: 4px; }
        .bad-tag { color: #d32f2f; font-weight: bold; background: #ffebee; padding: 2px 5px; border-radius: 4px; }
    </style>
</head>
<body>

<div class="container">
    <div class="controls">
        <input type="date" id="inputDate">
        <input type="time" id="inputTime">
        <button class="btn-now" onclick="setNow()">‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</button>
        <button onclick="calculateYam()">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏î‡∏ß‡∏á‡∏¢‡∏≤‡∏°‡πÅ‡∏ö‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå</button>
    </div>

    <div id="thaksaBar" class="thaksa-bar"></div>

    <table class="result-table"><tbody id="tableBody"></tbody></table>

    <div id="detailsBox" class="details-panel">
        <div id="detailsTitle" class="details-title">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏î‡∏ß‡∏á‡∏¢‡∏≤‡∏°</div>
        <div id="detailsContent">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà "‡πÄ‡∏•‡∏Ç‡∏î‡∏≤‡∏ß" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•</div>
    </div>

    <div id="advancedBox" class="advanced-panel" style="display:none;">
        <div class="adv-header">üéØ ‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡πÅ‡∏•‡∏∞‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á (Advanced Identification)</div>
        <div id="advContent" class="adv-grid"></div>
    </div>

    <div id="starTipsBox" class="tips-panel">
        <div class="tips-header">üí° ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡∏Ç‡∏≠‡∏á‡∏î‡∏≤‡∏ß (Star Tips)</div>
        <div id="tipsContent" class="tips-content">‡∏Å‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏î‡∏≤‡∏ß‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡πÇ‡∏î‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</div>
    </div>

    <div style="margin-top: 10px; width: 100%;">
        <button onclick="copyPromptForAI()" style="background: #4285f4; padding: 15px 20px; border-radius: 50px; cursor: pointer; color: white; border: none; font-weight: bold; width: 100%;">
            üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å
        </button>
    </div>
</div>

<script>
    const houseNames = [
        ["‡∏≠‡∏±‡∏ï‡∏ï‡∏∞", "‡∏´‡∏¥‡∏ô‡∏∞", "‡∏ò‡∏ô‡∏±‡∏á", "‡∏õ‡∏¥‡∏ï‡∏≤", "‡∏°‡∏≤‡∏ï‡∏≤", "‡πÇ‡∏†‡∏Ñ‡∏≤", "‡∏°‡∏±‡∏ä‡∏å‡∏¥‡∏°‡∏≤"],
        ["‡∏ï‡∏ô‡∏∏", "‡∏Å‡∏î‡∏∏‡∏°‡∏†‡∏∞", "‡∏™‡∏´‡∏±‡∏ä‡∏ä‡∏∞", "‡∏û‡∏±‡∏ô‡∏ò‡∏∏", "‡∏õ‡∏∏‡∏ï‡∏ï‡∏∞", "‡∏≠‡∏£‡∏¥", "‡∏õ‡∏±‡∏ï‡∏ô‡∏¥"],
        ["‡∏°‡∏£‡∏ì‡∏∞", "‡∏™‡∏∏‡∏†‡∏∞", "‡∏Å‡∏±‡∏°‡∏°‡∏∞", "‡∏•‡∏≤‡∏†‡∏∞", "‡∏û‡∏¢‡∏≤‡∏¢‡∏∞", "‡∏ó‡∏≤‡∏™‡∏≤", "‡∏ó‡∏≤‡∏™‡∏µ"]
    ];

    const houseContexts = {
        "‡∏≠‡∏±‡∏ï‡∏ï‡∏∞": "‡∏ï‡∏±‡∏ß‡∏ï‡∏ô/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î", "‡∏´‡∏¥‡∏ô‡∏∞": "‡∏à‡∏∏‡∏î‡∏≠‡πà‡∏≠‡∏ô/‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏°", "‡∏ò‡∏ô‡∏±‡∏á": "‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡∏ß", "‡∏õ‡∏¥‡∏ï‡∏≤": "‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà‡∏ä‡∏≤‡∏¢", "‡∏°‡∏≤‡∏ï‡∏≤": "‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà‡∏´‡∏ç‡∏¥‡∏á", "‡πÇ‡∏†‡∏Ñ‡∏≤": "‡∏≠‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏Ø", "‡∏°‡∏±‡∏ä‡∏å‡∏¥‡∏°‡∏≤": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏≠‡∏î‡∏µ",
        "‡∏ï‡∏ô‡∏∏": "‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏≠‡∏Å", "‡∏Å‡∏î‡∏∏‡∏°‡∏†‡∏∞": "‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ", "‡∏™‡∏´‡∏±‡∏ä‡∏ä‡∏∞": "‡∏™‡∏±‡∏á‡∏Ñ‡∏°/‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠", "‡∏û‡∏±‡∏ô‡∏ò‡∏∏": "‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß/‡∏£‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô", "‡∏õ‡∏∏‡∏ï‡∏ï‡∏∞": "‡∏ö‡∏£‡∏¥‡∏ß‡∏≤‡∏£/‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏´‡∏°‡πà", "‡∏≠‡∏£‡∏¥": "‡∏≠‡∏∏‡∏õ‡∏™‡∏£‡∏£‡∏Ñ", "‡∏õ‡∏±‡∏ï‡∏ô‡∏¥": "‡∏Ñ‡∏π‡πà‡∏Ñ‡∏£‡∏≠‡∏á/‡∏´‡∏∏‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô",
        "‡∏°‡∏£‡∏ì‡∏∞": "‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢/‡∏ï‡πà‡∏≤‡∏á‡πÅ‡∏î‡∏ô", "‡∏™‡∏∏‡∏†‡∏∞": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à/‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á", "‡∏Å‡∏±‡∏°‡∏°‡∏∞": "‡∏á‡∏≤‡∏ô/‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà", "‡∏•‡∏≤‡∏†‡∏∞": "‡πÇ‡∏ä‡∏Ñ‡∏•‡∏≤‡∏†", "‡∏û‡∏¢‡∏≤‡∏¢‡∏∞": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö/‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏°", "‡∏ó‡∏≤‡∏™‡∏≤": "‡∏á‡∏≤‡∏ô‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢/‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏ß‡∏°", "‡∏ó‡∏≤‡∏™‡∏µ": "‡∏á‡∏≤‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß"
    };

    const planetMeanings = {
        1: { n: "‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå", action: "‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏¢‡∏®", g: "‡∏ú‡∏π‡πâ‡∏ô‡∏≥ ‡∏°‡∏µ‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥ ‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏™‡∏π‡∏á", b: "‡πÉ‡∏à‡∏£‡πâ‡∏≠‡∏ô ‡∏≠‡∏ß‡∏î‡∏î‡∏µ ‡∏°‡∏µ‡∏ó‡∏¥‡∏ê‡∏¥" },
        2: { n: "‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå", action: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏°‡∏ï‡∏ï‡∏≤‡πÅ‡∏•‡∏∞‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏™‡∏¥‡∏ô", g: "‡πÄ‡∏™‡∏ô‡πà‡∏´‡πå‡∏î‡∏µ ‡∏°‡∏µ‡πÇ‡∏ä‡∏Ñ‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á", b: "‡πÉ‡∏à‡∏≠‡πà‡∏≠‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏£‡∏π‡πâ ‡∏´‡∏ß‡∏±‡πà‡∏ô‡πÑ‡∏´‡∏ß‡∏á‡πà‡∏≤‡∏¢" },
        3: { n: "‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£", action: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ", g: "‡∏Ç‡∏¢‡∏±‡∏ô ‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß ‡∏ä‡∏ô‡∏∞‡∏≠‡∏∏‡∏õ‡∏™‡∏£‡∏£‡∏Ñ", b: "‡∏≠‡∏∏‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏´‡∏ï‡∏∏ ‡πÇ‡∏ó‡∏™‡∏∞ ‡∏õ‡∏∞‡∏ó‡∏∞‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á" },
        4: { n: "‡∏û‡∏∏‡∏ò", action: "‡πÄ‡∏à‡∏£‡∏à‡∏≤‡πÅ‡∏•‡∏∞‡πÑ‡∏´‡∏ß‡∏û‡∏£‡∏¥‡∏ö", g: "‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏î‡∏µ ‡∏ß‡∏≤‡∏ó‡∏®‡∏¥‡∏•‡∏õ‡πå‡πÄ‡∏î‡πà‡∏ô", b: "‡∏ñ‡∏π‡∏Å‡∏ô‡∏¥‡∏ô‡∏ó‡∏≤ ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ú‡∏¥‡∏î" },
        5: { n: "‡∏û‡∏§‡∏´‡∏±‡∏™", action: "‡∏õ‡∏±‡∏ç‡∏ç‡∏≤‡πÅ‡∏•‡∏∞‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà", g: "‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏°‡∏ï‡∏ï‡∏≤ ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£", b: "‡∏î‡∏∑‡πâ‡∏≠‡∏£‡∏±‡πâ‡∏ô ‡∏¢‡∏∂‡∏î‡∏ï‡∏¥‡∏î‡∏ï‡∏≥‡∏£‡∏≤‡∏à‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡∏à‡∏£‡∏¥‡∏á" },
        6: { n: "‡∏®‡∏∏‡∏Å‡∏£‡πå", action: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡πÅ‡∏•‡∏∞‡∏•‡∏≤‡∏†‡∏ú‡∏•", g: "‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏•‡πà‡∏≠‡∏á ‡∏•‡∏≤‡∏†‡∏•‡∏≠‡∏¢ ‡∏£‡∏±‡∏Å‡∏™‡∏°‡∏´‡∏ß‡∏±‡∏á", b: "‡∏ü‡∏∏‡πà‡∏°‡πÄ‡∏ü‡∏∑‡∏≠‡∏¢ ‡∏´‡∏•‡∏á‡∏°‡∏±‡∏ß‡πÄ‡∏°‡∏≤‡πÉ‡∏ô‡∏Å‡∏¥‡πÄ‡∏•‡∏™" },
        7: { n: "‡πÄ‡∏™‡∏≤‡∏£‡πå", action: "‡∏≠‡∏î‡∏ó‡∏ô‡πÅ‡∏•‡∏∞‡∏†‡∏≤‡∏£‡∏∞", g: "‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏î‡∏µ ‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß", b: "‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏à‡∏±‡∏î ‡∏†‡∏≤‡∏£‡∏∞‡∏´‡∏ô‡∏±‡∏Å ‡∏≠‡∏°‡∏ó‡∏∏‡∏Å‡∏Ç‡πå" }
    };

    const thaksaVark = {
        1: { vark: "‡∏™‡∏£‡∏∞ (‡∏≠, ‡∏≠‡∏≤, ‡∏≠‡∏¥, ‡∏≠‡∏µ, ‡∏≠‡∏∏, ‡∏≠‡∏π, ‡πÄ‡∏≠, ‡πÇ‡∏≠)", direct: "‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠", element: "‡∏ò‡∏≤‡∏ï‡∏∏‡πÑ‡∏ü (‡∏£‡πâ‡∏≠‡∏ô‡πÅ‡∏£‡∏á, ‡∏™‡∏ß‡πà‡∏≤‡∏á)" },
        2: { vark: "‡∏ß‡∏£‡∏£‡∏Ñ ‡∏Å (‡∏Å, ‡∏Ç, ‡∏Ñ, ‡∏Ü, ‡∏á)", direct: "‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å", element: "‡∏ò‡∏≤‡∏ï‡∏∏‡∏î‡∏¥‡∏ô (‡∏≠‡πà‡∏≠‡∏ô‡∏ô‡∏∏‡πà‡∏°, ‡∏ä‡∏∏‡πà‡∏°‡∏ä‡∏∑‡πâ‡∏ô)" },
        3: { vark: "‡∏ß‡∏£‡∏£‡∏Ñ ‡∏à (‡∏à, ‡∏â, ‡∏ä, ‡∏ã, ‡∏å, ‡∏ç)", direct: "‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÉ‡∏ï‡πâ", element: "‡∏ò‡∏≤‡∏ï‡∏∏‡∏•‡∏° (‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß, ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á)" },
        4: { vark: "‡∏ß‡∏£‡∏£‡∏Ñ ‡∏é (‡∏é, ‡∏è, ‡∏ê, ‡∏ë, ‡∏í, ‡∏ì)", direct: "‡πÉ‡∏ï‡πâ", element: "‡∏ò‡∏≤‡∏ï‡∏∏‡∏ô‡πâ‡∏≥ (‡∏Ñ‡∏•‡πà‡∏≠‡∏á‡πÅ‡∏Ñ‡∏•‡πà‡∏ß, ‡∏™‡∏±‡∏á‡∏Ñ‡∏°)" },
        7: { vark: "‡∏ß‡∏£‡∏£‡∏Ñ ‡∏ï (‡∏î, ‡∏ï, ‡∏ñ, ‡∏ó, ‡∏ò, ‡∏ô)", direct: "‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÉ‡∏ï‡πâ", element: "‡∏ò‡∏≤‡∏ï‡∏∏‡πÑ‡∏ü (‡πÑ‡∏ü‡∏™‡∏∏‡∏°‡∏Ç‡∏≠‡∏ô, ‡∏£‡πâ‡∏≠‡∏ô‡∏•‡∏∂‡∏Å)" },
        5: { vark: "‡∏ß‡∏£‡∏£‡∏Ñ ‡∏ö (‡∏ö, ‡∏õ, ‡∏ú, ‡∏ù, ‡∏û, ‡∏ü, ‡∏†, ‡∏°)", direct: "‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å", element: "‡∏ò‡∏≤‡∏ï‡∏∏‡∏î‡∏¥‡∏ô (‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏Å‡∏£‡πà‡∏á, ‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á)" },
        8: { vark: "‡πÄ‡∏®‡∏©‡∏ß‡∏£‡∏£‡∏Ñ (‡∏¢, ‡∏£, ‡∏•, ‡∏ß)", direct: "‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠", element: "‡∏ò‡∏≤‡∏ï‡∏∏‡∏•‡∏° (‡∏û‡∏≤‡∏¢‡∏∏, ‡∏•‡∏∂‡∏Å‡∏•‡∏±‡∏ö)" },
        6: { vark: "‡∏ß‡∏£‡∏£‡∏Ñ ‡∏® (‡∏®, ‡∏©, ‡∏™, ‡∏´, ‡∏¨, ‡∏Æ)", direct: "‡πÄ‡∏´‡∏ô‡∏∑‡∏≠", element: "‡∏ò‡∏≤‡∏ï‡∏∏‡∏ô‡πâ‡∏≥ (‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°, ‡πÑ‡∏´‡∏•‡∏•‡∏∑‡πà‡∏ô)" }
    };

    const baseInterpretations = {
        3: { n: "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡πÄ‡∏•‡πá‡∏Å", g: "‡∏ô‡∏∏‡πà‡∏°‡∏ô‡∏ß‡∏• ‡∏°‡∏µ‡πÄ‡∏™‡∏ô‡πà‡∏´‡πå", b: "‡πÇ‡∏•‡πÄ‡∏• ‡∏à‡∏¥‡∏ï‡πÉ‡∏à‡πÑ‡∏°‡πà‡∏ô‡∏¥‡πà‡∏á" },
        4: { n: "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏∏‡∏ò‡πÄ‡∏•‡πá‡∏Å", g: "‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏£‡∏≤‡∏ö‡∏£‡∏∑‡πà‡∏ô ‡∏°‡∏µ‡πÑ‡∏´‡∏ß‡∏û‡∏£‡∏¥‡∏ö", b: "‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏Ñ‡∏≥‡∏û‡∏π‡∏î‡∏ô‡∏¥‡∏ô‡∏ó‡∏≤" },
        5: { n: "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏§‡∏´‡∏±‡∏™‡πÄ‡∏•‡πá‡∏Å", g: "‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ ‡∏°‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥", b: "‡∏î‡∏∑‡πâ‡∏≠‡∏£‡∏±‡πâ‡∏ô ‡∏¢‡∏∂‡∏î‡∏ï‡∏¥‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏ï‡∏ô" },
        6: { n: "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå", g: "‡∏°‡∏µ‡∏û‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå ‡∏Å‡∏•‡πâ‡∏≤‡πÄ‡∏ú‡∏ä‡∏¥‡∏ç‡∏´‡∏ô‡πâ‡∏≤", b: "‡πÉ‡∏à‡∏£‡πâ‡∏≠‡∏ô ‡∏ó‡∏∞‡πÄ‡∏¢‡∏≠‡∏ó‡∏∞‡∏¢‡∏≤‡∏ô" },
        7: { n: "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏™‡∏≤‡∏£‡πå‡πÄ‡∏•‡πá‡∏Å", g: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏î‡∏ó‡∏ô‡∏™‡∏π‡∏á ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î", b: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏ß‡∏¥‡∏ï‡∏Å‡∏Å‡∏±‡∏á‡∏ß‡∏•" },
        8: { n: "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£", g: "‡∏Ç‡∏¢‡∏±‡∏ô ‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß ‡∏ä‡∏ô‡∏∞‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á", b: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡∏π‡πà‡∏ß‡∏≤‡∏° ‡∏≠‡∏∏‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏´‡∏ï‡∏∏" },
        9: { n: "‡∏û‡∏£‡∏∞‡πÄ‡∏Å‡∏ï‡∏∏", g: "‡∏™‡∏¥‡πà‡∏á‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á ‡∏•‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏´‡∏£‡∏ì‡πå‡πÅ‡∏°‡πà‡∏ô", b: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ü‡∏∏‡πâ‡∏á‡∏ã‡πà‡∏≤‡∏ô ‡πÄ‡∏û‡πâ‡∏≠‡∏ù‡∏±‡∏ô" },
        10: { n: "‡∏°‡∏§‡∏ï‡∏¢‡∏π", g: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô", b: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏•‡∏¥‡∏Å‡∏ú‡∏±‡∏ô ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö‡∏ñ‡∏π‡∏Å‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢" },
        11: { n: "‡∏£‡∏≤‡∏ä‡∏≤‡πÇ‡∏ä‡∏Ñ", g: "‡πÇ‡∏ä‡∏Ñ‡∏•‡∏≤‡∏†‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢ ‡∏°‡∏µ‡∏Ñ‡∏ô‡πÉ‡∏´‡πâ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™", b: "‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ó‡∏Ç‡∏≤‡∏î‡∏™‡∏ï‡∏¥" },
        12: { n: "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏≤‡∏´‡∏π", g: "‡πÑ‡∏´‡∏ß‡∏û‡∏£‡∏¥‡∏ö‡∏û‡∏•‡∏¥‡∏Å‡πÅ‡∏û‡∏•‡∏á‡πÄ‡∏Å‡πà‡∏á ‡∏ó‡∏±‡∏ô‡∏Ñ‡∏ô", b: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡∏ß‡πÄ‡∏°‡∏≤ ‡∏´‡∏•‡∏á‡∏ú‡∏¥‡∏î" },
        13: { n: "‡∏°‡∏´‡∏≤‡∏≠‡∏∏‡∏à", g: "‡∏ä‡∏±‡∏¢‡∏ä‡∏ô‡∏∞‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î ‡∏û‡∏•‡∏±‡∏á‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î", b: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á ‡πÅ‡∏ï‡∏Å‡∏´‡∏±‡∏Å‡∏á‡πà‡∏≤‡∏¢" },
        14: { n: "‡∏à‡∏±‡∏Å‡∏£‡∏û‡∏£‡∏£‡∏î‡∏¥", g: "‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏¢‡∏¥‡πà‡∏á‡πÉ‡∏´‡∏ç‡πà ‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á ‡∏ö‡∏≤‡∏£‡∏°‡∏µ‡∏™‡∏π‡∏á", b: "‡∏†‡∏≤‡∏£‡∏∞‡∏´‡∏ô‡∏±‡∏Å‡∏à‡∏ô‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î" },
        15: { n: "‡∏°‡∏´‡∏≤‡πÄ‡∏™‡∏ô‡πà‡∏´‡πå", g: "‡πÄ‡∏°‡∏ï‡∏ï‡∏≤‡∏°‡∏´‡∏≤‡∏ô‡∏¥‡∏¢‡∏° ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡πÑ‡∏´‡∏•‡∏•‡∏∑‡πà‡∏ô", b: "‡πÉ‡∏à‡∏≠‡πà‡∏≠‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏Å‡∏≤‡∏£ ‡∏ü‡∏∏‡πà‡∏°‡πÄ‡∏ü‡∏∑‡∏≠‡∏¢" },
        16: { n: "‡πÇ‡∏™‡∏¨‡∏™‡∏°‡∏á‡∏Ñ‡∏•", g: "‡∏°‡∏á‡∏Ñ‡∏•‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏£‡∏≠‡∏ö‡∏î‡πâ‡∏≤‡∏ô", b: "‡∏ú‡∏¥‡∏î‡∏®‡∏µ‡∏•‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á" },
        17: { n: "‡∏°‡∏´‡∏≤‡∏õ‡∏±‡∏ç‡∏ç‡∏≤", g: "‡∏™‡∏ï‡∏¥‡∏õ‡∏±‡∏ç‡∏ç‡∏≤‡πÄ‡∏•‡∏¥‡∏® ‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏£‡∏∏‡πà‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏á", b: "‡∏Ñ‡∏¥‡∏î‡∏°‡∏≤‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏•‡πà‡∏´‡πå‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°‡∏°‡∏≤‡∏Å" },
        18: { n: "‡∏°‡∏´‡∏≤‡∏à‡∏±‡∏Å‡∏£", g: "‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏¢‡∏¥‡πà‡∏á‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ù‡πà‡∏≤‡∏ü‡∏±‡∏ô", b: "‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏¢‡∏≤‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏∞‡∏™‡∏ö‡∏≤‡∏¢" },
        19: { n: "‡∏°‡∏´‡∏≤‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏µ", g: "‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏°‡∏ï‡∏ï‡∏≤ ‡∏°‡∏±‡πà‡∏á‡∏Ñ‡∏±‡πà‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á", b: "‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á‡∏™‡∏π‡∏á‡∏Å‡∏î‡∏î‡∏±‡∏ô" },
        20: { n: "‡∏°‡∏´‡∏≤‡∏ó‡∏∏‡∏Å‡∏Ç‡πå", g: "‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏ç‡πà ‡∏≠‡∏î‡∏ó‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏•‡∏¥‡∏®", b: "‡∏ó‡∏∏‡∏Å‡∏Ç‡πå‡∏™‡∏≤‡∏´‡∏±‡∏™ ‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô‡∏£‡∏±‡∏î‡∏ï‡∏±‡∏ß" },
        21: { n: "‡∏°‡∏´‡∏≤‡∏•‡∏≤‡∏†", g: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô", b: "‡∏´‡∏•‡∏á‡∏°‡∏±‡∏ß‡πÄ‡∏°‡∏≤‡πÉ‡∏ô‡∏Å‡∏¥‡πÄ‡∏•‡∏™" }
    };

    const planetTips = {
        1: { person: "‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£, ‡∏ú‡∏π‡πâ‡∏ô‡∏≥", animal: "‡∏™‡∏¥‡∏á‡πÇ‡∏ï, ‡πÑ‡∏Å‡πà‡∏ä‡∏ô", thing: "‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥, ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤", place: "‡∏ó‡∏µ‡πà‡∏™‡∏π‡∏á, ‡πÇ‡∏ö‡∏™‡∏ñ‡πå", event: "‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á", ask: "‡∏ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏´‡∏≤‡∏¢: ‡∏´‡∏≤‡∏¢‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏à‡πâ‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏™‡∏π‡∏á" },
        2: { person: "‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á, ‡πÅ‡∏°‡πà", animal: "‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ô‡πâ‡∏≥, ‡∏Å‡∏£‡∏∞‡∏ï‡πà‡∏≤‡∏¢", thing: "‡πÄ‡∏á‡∏¥‡∏ô, ‡∏ô‡πâ‡∏≥", place: "‡∏£‡∏¥‡∏°‡∏ô‡πâ‡∏≥, ‡∏ó‡∏∞‡πÄ‡∏•", event: "‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏≤‡∏á‡∏ô‡πâ‡∏≥", ask: "‡∏ñ‡πâ‡∏≤‡∏ñ‡∏≤‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏±‡∏Å: ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏Ñ‡∏π‡πà‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏≠‡∏≤‡πÉ‡∏à" },
        3: { person: "‡∏ó‡∏´‡∏≤‡∏£, ‡∏ï‡∏≥‡∏£‡∏ß‡∏à, ‡∏ä‡πà‡∏≤‡∏á", animal: "‡∏™‡∏∏‡∏ô‡∏±‡∏Ç, ‡∏õ‡∏•‡∏≤‡∏Å‡∏±‡∏î", thing: "‡πÄ‡∏´‡∏•‡πá‡∏Å, ‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò", place: "‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô, ‡∏≠‡∏π‡πà‡∏£‡∏ñ", event: "‡∏≠‡∏∏‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏´‡∏ï‡∏∏, ‡∏Å‡∏≤‡∏£‡∏õ‡∏∞‡∏ó‡∏∞", ask: "‡∏ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏´‡∏≤‡∏¢: ‡∏´‡∏≤‡∏¢‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡πà‡∏á‡∏ä‡∏¥‡∏á" },
        4: { person: "‡∏ô‡∏±‡∏Å‡∏û‡∏π‡∏î, ‡∏û‡πà‡∏≠‡∏Ñ‡πâ‡∏≤", animal: "‡∏ô‡∏Å‡πÅ‡∏Å‡πâ‡∏ß, ‡∏™‡∏∏‡∏ô‡∏±‡∏Ç‡∏à‡∏¥‡πâ‡∏á‡∏à‡∏≠‡∏Å", thing: "‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠, ‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå", place: "‡∏ï‡∏•‡∏≤‡∏î, ‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå", event: "‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏£‡∏à‡∏≤, ‡∏™‡∏±‡∏ç‡∏ç‡∏≤", ask: "‡∏ñ‡πâ‡∏≤‡∏ñ‡∏≤‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏á‡∏≤‡∏ô: ‡∏à‡∏∞‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏ã‡πá‡∏ô‡∏™‡∏±‡∏ç‡∏ç‡∏≤" },
        5: { person: "‡∏Ñ‡∏£‡∏π, ‡∏û‡∏£‡∏∞, ‡∏´‡∏°‡∏≠", animal: "‡∏ä‡πâ‡∏≤‡∏á, ‡∏°‡πâ‡∏≤", thing: "‡∏û‡∏£‡∏∞‡∏û‡∏∏‡∏ó‡∏ò‡∏£‡∏π‡∏õ, ‡∏¢‡∏≤", place: "‡∏ß‡∏±‡∏î, ‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•", event: "‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ö‡∏∏‡∏ç, ‡∏≠‡∏ö‡∏£‡∏°", ask: "‡∏ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏´‡∏≤‡∏¢: ‡∏°‡∏µ‡∏Ñ‡∏ô‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ" },
        6: { person: "‡∏ô‡∏±‡∏Å‡πÅ‡∏™‡∏î‡∏á, ‡∏Ñ‡∏ô‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°", animal: "‡∏ô‡∏Å‡∏¢‡∏π‡∏á, ‡∏ú‡∏µ‡πÄ‡∏™‡∏∑‡πâ‡∏≠", thing: "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö, ‡∏Ç‡∏ô‡∏°", place: "‡∏£‡πâ‡∏≤‡∏ô‡∏™‡∏ß‡∏¢‡πÜ, ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£", event: "‡∏á‡∏≤‡∏ô‡∏£‡∏∑‡πà‡∏ô‡πÄ‡∏£‡∏¥‡∏á, ‡∏£‡∏±‡∏Å", ask: "‡∏ñ‡πâ‡∏≤‡∏ñ‡∏≤‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô: ‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏´‡∏•‡πÄ‡∏Ç‡πâ‡∏≤‡∏•‡∏∑‡πà‡∏ô‡πÑ‡∏´‡∏•" },
        7: { person: "‡∏Å‡∏™‡∏¥‡∏Å‡∏£, ‡∏Ñ‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡πÅ‡∏Å‡πà", animal: "‡∏á‡∏π, ‡∏ï‡∏∞‡∏Ç‡∏≤‡∏ö", thing: "‡∏´‡∏¥‡∏ô, ‡∏î‡∏¥‡∏ô, ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡πà‡∏≤", place: "‡πÑ‡∏£‡πà‡∏ô‡∏≤, ‡∏õ‡πà‡∏≤‡∏ä‡πâ‡∏≤", event: "‡∏Å‡∏≤‡∏£‡∏£‡∏≠‡∏Ñ‡∏≠‡∏¢, ‡∏´‡∏ô‡∏µ‡πâ‡∏™‡∏¥‡∏ô", ask: "‡∏ñ‡πâ‡∏≤‡∏ñ‡∏≤‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏ô‡∏µ‡πâ: ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏Ñ‡∏∑‡∏ô‡∏ä‡πâ‡∏≤‡∏°‡∏≤‡∏Å" }
    };

    let currentGrid = [];
    let currentBases = [];
    let dailyThaksa = {};

    function setNow() {
        const now = new Date();
        document.getElementById('inputDate').valueAsDate = now;
        document.getElementById('inputTime').value = now.toTimeString().substring(0,5);
        calculateYam();
    }

    function calculateYam() {
        const dIn = document.getElementById('inputDate').value;
        const tIn = document.getElementById('inputTime').value;
        if(!dIn || !tIn) return;
        let dt = new Date(dIn + 'T' + tIn);
        let dOfWeek = dt.getDay() === 0 ? 1 : dt.getDay() + 1;
        let hrs = dt.getHours();
        let bioDay = (hrs < 6) ? (dOfWeek === 1 ? 7 : dOfWeek - 1) : dOfWeek;
        
        updateThaksa(bioDay);
        let totalM = (hrs * 60) + dt.getMinutes();
        let isN = (totalM >= 1080 || totalM < 360);
        let refT = isN ? (totalM < 360 ? totalM + 1440 : totalM) - 1080 : totalM - 360;
        let yIdx = Math.floor(refT / 90) + 1;
        let fY = isN ? ((bioDay + 4 > 7) ? bioDay + 4 - 7 : bioDay + 4) : bioDay;
        const seq = [1, 6, 4, 2, 7, 5, 3];
        let mY = fY;
        for(let i=1; i<yIdx; i++) { mY = seq[(seq.indexOf(mY) + 1) % 7]; }
        let lY = (mY + Math.floor((refT % 90) / 12.85)) % 7 || 7;
        renderTable(bioDay, mY, lY);
    }

    function updateThaksa(day) {
        dailyThaksa = {};
        const thaksaNames = ["‡∏ö‡∏£‡∏¥‡∏ß‡∏≤‡∏£", "‡∏≠‡∏≤‡∏¢‡∏∏", "‡πÄ‡∏î‡∏ä", "‡∏®‡∏£‡∏µ", "‡∏°‡∏π‡∏•‡∏∞", "‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏∞", "‡∏°‡∏ô‡∏ï‡∏£‡∏µ", "‡∏Å‡∏≤‡∏•‡∏Å‡∏¥‡∏ì‡∏µ"];
        const thaksaSeq = [1, 2, 3, 4, 7, 5, 8, 6];
        let start = thaksaSeq.indexOf(day === 8 ? 8 : day);
        const bar = document.getElementById('thaksaBar'); bar.innerHTML = '';
        for(let i=0; i<8; i++) {
            let star = thaksaSeq[(start + i) % 8];
            dailyThaksa[star] = thaksaNames[i];
            let cls = thaksaNames[i] === '‡∏®‡∏£‡∏µ' ? 'tag-sri' : (thaksaNames[i] === '‡∏Å‡∏≤‡∏•‡∏Å‡∏¥‡∏ì‡∏µ' ? 'tag-kala' : '');
            bar.innerHTML += `<div class="thaksa-item ${cls}">${star}:${thaksaNames[i]}</div>`;
        }
    }

    function renderTable(d, y, ly) {
        const tb = document.getElementById('tableBody'); tb.innerHTML = '';
        currentGrid = [[], [], []]; currentBases = [];
        for(let i=0; i<7; i++) {
            currentGrid[0].push((d + i) % 7 || 7);
            currentGrid[1].push((y + i) % 7 || 7);
            currentGrid[2].push((ly + i) > 7 ? (ly + i) % 7 || 7 : (ly + i));
            currentBases.push(currentGrid[0][i] + currentGrid[1][i] + currentGrid[2][i]);
        }
        for(let r=0; r<3; r++) {
            let tr = document.createElement('tr');
            for(let c=0; c<7; c++) {
                let v = currentGrid[r][c]; let h = houseNames[r][c];
                let tLabel = dailyThaksa[v] || "";
                let cls = tLabel === '‡∏®‡∏£‡∏µ' ? 'is-sri' : (tLabel === '‡∏Å‡∏≤‡∏•‡∏Å‡∏¥‡∏ì‡∏µ' ? 'is-kala' : '');
                if([7,4,3].includes(v)) cls += ' is-personal';
                tr.innerHTML += `<td class="${cls}" onclick="showJourney(${v})">
                    <span class="house-label">${h}</span>
                    <span class="digit-value">${v}</span>
                    <span class="thaksa-indicator">${tLabel.substring(0,2)}</span>
                </td>`;
            }
            tb.appendChild(tr);
        }
        let trB = document.createElement('tr'); trB.className = 'row-base';
        for(let b=0; b<7; b++) {
            let val = currentBases[b];
            trB.innerHTML += `<td class="${[14,15,16,19].includes(val)?'is-good-base':''}" onclick="showBaseFull(${b}, ${val})">
                <span class="base-label">‡∏ê‡∏≤‡∏ô</span>
                <span class="base-value">${val}</span>
            </td>`;
        }
        tb.appendChild(trB);
    }

    function showJourney(star) {
        let pathCtx = []; let lastBase = 0;
        for(let r=0; r<3; r++) {
            for(let c=0; c<7; c++) {
                if(currentGrid[r][c] === star) {
                    let h = houseNames[r][c];
                    pathCtx.push(`${h} (${houseContexts[h]})`);
                    if(r === 2) lastBase = currentBases[c];
                }
            }
        }
        const p = planetMeanings[star];
        const bD = baseInterpretations[lastBase] || { n: "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏∞‡∏™‡∏°", g: "-", b: "-" };
        const tLabel = dailyThaksa[star];

        document.getElementById('detailsTitle').innerHTML = `‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏î‡∏≤‡∏ß ${star} (${p.n}) + ‡∏ó‡∏±‡∏Å‡∏©‡∏≤: ${tLabel}`;
        document.getElementById('detailsContent').innerHTML = `
            <strong>‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏¢‡∏≤‡∏°‡∏ô‡∏µ‡πâ:</strong> <span class="${tLabel==='‡∏®‡∏£‡∏µ'?'good-tag':(tLabel==='‡∏Å‡∏≤‡∏•‡∏Å‡∏¥‡∏ì‡∏µ'?'bad-tag':'')}">${tLabel}</span><br>
            <strong>‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏†‡∏û:</strong> ${pathCtx.join(' ‚Üí ')}<br>
            <strong>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏ê‡∏≤‡∏ô:</strong> ${lastBase} (${bD.n})
            <div class="journey-box">
                ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà <strong>${pathCtx[0]}</strong> ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á <strong>${pathCtx[1]}</strong> ‡πÅ‡∏•‡∏∞‡∏à‡∏ö‡∏ó‡∏µ‡πà <strong>${pathCtx[2]}</strong> ‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ç‡∏≠‡∏á <strong>${bD.n}</strong> ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô
            </div>
            <p><span class="good-tag">‡∏à‡∏∏‡∏î‡∏î‡∏µ‡∏î‡∏≤‡∏ß:</span> ${p.g}</p>
            <p><span class="bad-tag">‡∏à‡∏∏‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏î‡∏≤‡∏ß:</span> ${p.b}</p>
        `;
        showStarTips(star);
        showAdvancedInfo(star);
    }

    function showAdvancedInfo(star) {
        const adv = thaksaVark[star] || { vark: "-", direct: "-", element: "-" };
        const advBox = document.getElementById('advancedBox');
        const content = document.getElementById('advContent');
        advBox.style.display = 'block';
        content.innerHTML = `
            <div><span class="adv-label">‡∏ß‡∏£‡∏£‡∏Ñ‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ä‡∏∑‡πà‡∏≠ (‡∏ä‡∏∑‡πà‡∏≠‡∏¢‡πà‡∏≠/‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏ô):</span> <span class="adv-val">${adv.vark}</span></div>
            <div><span class="adv-label">‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á/‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:</span> <span class="adv-val">${adv.direct}</span></div>
            <div><span class="adv-label">‡∏™‡∏†‡∏≤‡∏ß‡∏∞‡∏ò‡∏≤‡∏ï‡∏∏:</span> <span class="adv-val">${adv.element}</span></div>
            <div><span class="adv-label">‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ó‡∏±‡∏Å‡∏©‡∏≤:</span> <span class="adv-val">${dailyThaksa[star] || "-"}</span></div>
        `;
    }

    function showStarTips(star) {
        const tip = planetTips[star];
        const p = planetMeanings[star];
        document.getElementById('tipsContent').innerHTML = `
            <div class="tips-grid">
                <div class="tips-section"><span class="tips-label">‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•:</span> ${tip.person}</div>
                <div class="tips-section"><span class="tips-label">‡∏™‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á:</span> ${tip.thing}</div>
                <div class="tips-section"><span class="tips-label">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà:</span> ${tip.place}</div>
                <div class="tips-section"><span class="tips-label">‡∏™‡∏±‡∏ï‡∏ß‡πå/‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå:</span> ${tip.animal}, ${tip.event}</div>
                <div class="tips-section" style="grid-column: span 2;"><span class="tips-label">üí° ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏¢‡∏≠‡∏î‡∏Æ‡∏¥‡∏ï:</span> ${tip.ask}</div>
            </div>
        `;
    }

    function showBaseFull(col, val) {
        const d = baseInterpretations[val] || { n: "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏∞‡∏™‡∏°", g: "-", b: "-" };
        const p1 = houseNames[0][col], p2 = houseNames[1][col], p3 = houseNames[2][col];
        document.getElementById('detailsTitle').innerHTML = `‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡πà 4 ‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏™‡∏≤ (‡πÄ‡∏•‡∏Ç ${val})`;
        document.getElementById('detailsContent').innerHTML = `
            <strong>‡∏ä‡∏∑‡πà‡∏≠‡∏ê‡∏≤‡∏ô:</strong> ${d.n}<br>
            <div class="journey-box">‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÄ‡∏™‡∏≤: ${p1} ‚Üí ${p2} ‚Üí ${p3}</div>
            <span class="good-tag">‡∏ö‡∏ó‡∏™‡∏£‡∏∏‡∏õ‡∏ó‡∏≤‡∏á‡∏î‡∏µ:</span> ${d.g}<br>
            <span class="bad-tag">‡∏ö‡∏ó‡∏™‡∏£‡∏∏‡∏õ‡∏ó‡∏≤‡∏á‡πÄ‡∏™‡∏µ‡∏¢:</span> ${d.b}
        `;
    }

    function copyPromptForAI() {
        const dIn = document.getElementById('inputDate').value;
        const tIn = document.getElementById('inputTime').value;
        let chartText = `‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏î‡∏ß‡∏á‡∏¢‡∏≤‡∏° 7 ‡∏ï‡∏±‡∏ß 4 ‡∏ê‡∏≤‡∏ô ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${dIn} ‡πÄ‡∏ß‡∏•‡∏≤ ${tIn}\n‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏î‡∏≤‡∏ß:\n`;
        chartText += `‡πÅ‡∏ñ‡∏ß 1: ${currentGrid[0].join(',')}\n‡πÅ‡∏ñ‡∏ß 2: ${currentGrid[1].join(',')}\n‡πÅ‡∏ñ‡∏ß 3: ${currentGrid[2].join(',')}\n‡∏ê‡∏≤‡∏ô 4: ${currentBases.join(',')}\n‡∏ó‡∏±‡∏Å‡∏©‡∏≤: `;
        for(let s in dailyThaksa) chartText += `${s}:${dailyThaksa[s]} `;
        navigator.clipboard.writeText(chartText).then(() => alert("‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡∏ß‡∏á‡∏¢‡∏≤‡∏°‡πÅ‡∏•‡πâ‡∏ß!"));
    }
    window.onload = setNow;
</script>
</body>
</html>
